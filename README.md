# Tasty Tales

[Click Here To Visit Live Site](https://tasty-tales-by-joe-yip-e31af4ace719.herokuapp.com/)  

## Table Of Contents:

1. <details open>
    <summary><a href='#ux-design'>UX Design</a></summary>
    </details>
2. [User Stories](#user-stories)
3. [Wireframes](#wireframes)
4. [Agile Metodology](#agile-methodology)
5. [Typography](#typography)
6. [Colour Scheme](#colour-scheme)
7. [Database Diagram](#database-diagram)
8. <details open>
    <summary><a href="#features">Features</a></summary>
    </details>
9. [Future Features](#future-features)
10. [Technologies Used](#technologies-used)
11. [Testin](#testing)
12. [Deployment and Initial Setup](#deployment-and-initial-setup)
13. [Final Deployment](#final-deployemt)
14. [Credits](#credits)
15. [Acknowledgments](#acknowledgements)
---
## UX Design
---
## User Stories
---
## Wireframes
I used [Figma](https://www.figma.com/) to create wireframes. "X-boxes" indicate for images. This was rough guideline of how I'd like to structure the website. But subject to changes during development stages.
<figure align="center">
    <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610995/tasty_tales_food_blog/wireframes/figma-wireframe2_fqhlpw.jpg"
        alt="Overview of all wireframes created in Figma">
        <figcaption>Overview of all wireframes created in Figma</figcaption>
</figure>
<ul>
    <details>
        <summary>Desktop</summary>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610994/tasty_tales_food_blog/wireframes/figma-wireframe-desktop-lp_tgv1no.jpg"
                alt="Desktop wireframe landing page">
                <figcaption>Desktop wireframe landing page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610995/tasty_tales_food_blog/wireframes/figma-wireframe-desktop-fp_cmnfwo.jpg"
                alt="Desktop wireframe food page">
                <figcaption>Desktop wireframe food page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610994/tasty_tales_food_blog/wireframes/figma-wireframe-desktop-dp_bg04y9.jpg"
                alt="Desktop wireframe drinks page">
                <figcaption>Desktop wireframe drinks page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610994/tasty_tales_food_blog/wireframes/figma-wireframe-desktop-about_ug60o1.jpg"
                alt="Desktop wireframe about page">
                <figcaption>Desktop wireframe about page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610994/tasty_tales_food_blog/wireframes/figma-wireframe-desktop-contact_x982tv.jpg"
                alt="Desktop wireframe contact page">
                <figcaption>Desktop wireframe contact page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610994/tasty_tales_food_blog/wireframes/figma-wireframe-desktop-signup_ydc26n.jpg"
                alt="Desktop wireframe signup page">
                <figcaption>Desktop wireframe signup page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610994/tasty_tales_food_blog/wireframes/figma-wireframe-desktop-login_anfhy2.jpg"
                alt="Desktop wireframe login page">
                <figcaption>Desktop wireframe login page</figcaption>
            </figure>
    </details>
    <details>
        <summary>Tablet</summary>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610996/tasty_tales_food_blog/wireframes/figma-wireframe-tablet_f5wrrf.jpg"
                alt="Tablet wireframe tablet landing page, food page, drinks page">
                <figcaption>Tablet wireframe landing page, food page and drinks page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610995/tasty_tales_food_blog/wireframes/figma-wireframe-tablet2_lo8x9e.jpg"
                alt="Tablet wireframe about page and contact page">
                <figcaption>Tablet wireframe about page and contact page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610995/tasty_tales_food_blog/wireframes/figma-wireframe-tablet3_qrbptn.jpg"
                alt="Tablet wireframe signup and login page">
                <figcaption>Tablet wireframe signup and login page</figcaption>
            </figure>
    </details>  
    <details>
        <summary>Mobile</summary>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610995/tasty_tales_food_blog/wireframes/figma-wireframe-mobile1_hberkg.jpg"
                alt="Mobile wireframe landing page, food page and drinks page">
                <figcaption>Tablet wireframe landing page, food page and drinks page</figcaption>
            </figure>
            <figure>
                <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690610995/tasty_tales_food_blog/wireframes/figma-wireframe-mobile2_faayeq.jpg"
                alt="Mobile wireframe landing page, food page and drinks page">
                <figcaption>Tablet wireframe about page, contact page, signup page and login page</figcaption>
            </figure>
    </details>
</ul>

---
## Agile Methodology
I used Github issues to create User Stories. Then made a Project Backlog using the Milestone feature to store all the User Stories. I created a timebox called iteration(sprints) approx seven days, one week long using the Milestone feature in Github. This agile approach methodology helps track the development of this project. You can find the User Stories [here](https://github.com/JoeYip13/project-4-full-stack-toolkit/issues)<br>
I created a Kanban board using Github Projects feature to track the flow of work from each iteration. You can find the Kanban board [here](https://github.com/users/JoeYip13/projects/2)

---
## Typography
---
## Colour Scheme
--- 
## Database Diagram
Database diagram created using LucidCharts
<figure align="center">
    <img src="https://res.cloudinary.com/dcjkzptkn/image/upload/v1690608081/tasty_tales_food_blog/database_diagram.png"
        alt="Database diagram for the food blog website">
    <figcaption>Database Diagram</figcaption>
</figure>

---

## Features:
### Navigation Bar
---
### Footer
---
### Home Page
---
### Page
---
### Login Page
---
### Logout page
---
## Future Features
---
## Technologies Used
- [Figma](https://www.figma.com) was used to create the wireframes.
- [Django](https://www.djangoproject.com/) was the framework that was used.
- [Python](https://en.wikipedia.org/wiki/Python_(programming_language)), django is a python framework.
- [Bootstrap](https://en.wikipedia.org/wiki/Bootstrap_(front-end_framework)) was also used to style the site.
- [Codeanywhere](https://codeanywhere.com/) was used to create this site and then push everything to github.
- [Heroku](https://www.heroku.com) is used to host this site.
- [Github](https://www.github.com) was used to store the code.
- [Cloudinary](https://cloudinary.com/) was used to store the images.
- [ElephantSQL](https://www.elephantsql.com/) was used to store the database.
---

## Testing

The testing section can be found [here](TESTING.md).

---

## Deployment and Initial Setup
This project was created using [Codeanywhere](https://www.codeanywhere.com/).

### Initial Setup
#### 1. Creating Respository on Github

- 1.1 First make sure you are signed into [Github](https://github.com/) and go to code institutes template, which can be found [here](https://github.com/Code-Institute-Org/gitpod-full-template).
- 1.2 Then click on **use this template** and select **Create a new repository** from the drop down. Enter the name for the repository and click **Create repository from template**.
- 1.3 Once the repository was created, I clicked the purple **Codeanywhere** button to create a workspace in Codeanywhere so that I could write the code for the site.

#### 2. Installing Django and supporting libaries
I followed the Code Institute *"I think Therefore I blog"* Tutorial video. Also followed this handy *"Django Blog Cheet Sheet"* from Code Institute [here](https://docs.google.com/document/d/1P5CWvS5cYalkQOLeQiijpSViDPogtKM7ZGyqK-yehhQ/edit).<br>
First we go into the terminal:

- 2.1 Install Django and gunicorn. ( `pip3 install 'django<4' gunicorn` )
- 2.2 Install supporting libraries.( `pip3 install dj_database_url==0.5.0 psycopg2` )
- 2.3 Install Cloudinary Libraries. ( `pip3 install dj3-cloudinary-storage` )
- 2.4 Create requirements file.( `pip3 freeze --local > requirements.txt` )
- 2.5 Create Project.( `django-admin startproject PROJ_NAME .` ) **don't forget the `.`**
- 2.6 Create App.( `python3 manage.py startapp APP_NAME` )

In `settings.py` file:
- 2.7 Add to installed apps.(`'APP_NAME'`)

In the Terminal:
- 2.8 Migrate Changes.( `python3 manage.py migrate` )
- 2.9 Run Server to Test.( `python3 manage.py runserver` )
<br>If you see a yellow error screen (DisallowedHost at /....) don’t worry! Your server is running properly. This error is telling you that, for security reasons, Django doesn’t recognise the hostname - the server name your project is running on.<br>
Select and copy the hostname after “Invalid HTTP_HOST header”. In this example, that is `'8000-nielmc-django-project-0kylrta3cs.us2.codeanyapp.com'` you can include the quotes.<br>
- 2.10 In `settings.py` file. Find the `ALLOWED_HOSTS` and paste in the hostname. For example this would look like `ALLOWED_HOSTS = ['8000-nielmc-django-project-0kylrta3cs.us2.codeanyapp.com']`

### Deploying an app to Heroku
Five Stages involved:<br>
1. Create a new external database
2. Create the Heroku app
3. Attach the database
4. Prepare our environment and `settings.py` file
5. Get our static and media files stored on Cloudinary

#### 3. Create a database On ElephantSQL
- 3.1 Log into the [ElephantSQL](https://www.elephantsql.com/) website and click **Create new Instance**
- 3.2 Enter a **Name** and keep the plan as **Tiny Turtle Free**, then **tags** field can be left blank, Select a region closest to you, I selected **EU-West-1(Ireland)** as I'm in UK. Then click **Review** and afterwards click **create instance**.
- 3.4 On The Dashboard click on your database instance name.
- 3.5 You will see the details for your database instance, in the url section click on the copy icon to copy the **ElephantSQL database URL**. It will start with postgres:// .

#### 4. Creating app on Heroku
- 4.1 Head over to [heroku](https://www.heroku.com/) and sign in.
- 4.2 On the home page, click **New** and **Create new app** from the drop down.
- 4.3 Give the app a name(this must be unique) and select a **region** I chose **Europe** as I am in Europe, Then click **Create app**.
- 4.4 Open the settings tab
- 4.5 Click Reveal Confrig Vars
- 4.6 Add a config var called `DATABASE_URL` for the value it should be the **ElephantSQL database URL** you copied in the previous step.

#### 5. Attach the Database
- 5.1 Back over to your IDE workspace for me its [Codeanywhere](https://www.codeanywhere.com/)
- 5.2 Create a new `env.py` file on top level directory
- 5.3 In the `env.py` file `import os`
- 5.4 Set environment variables `os.environ["DATABASE_URL"] = "`**Paste in ElephantSQL database URL**`"`
- 5.5 Add in secret key `os.environ["SECRET_KEY"] = "`Make up your own random secret key`"`
- 5.6 Head back over to [heroku](https://www.heroku.com/)
- 5.7 Add a config var called `SECRET_KEY` for the value it should be a **random secret key**

#### 6. Prepare our environment and settings.py file
- 6.1 In `settings.py` file
- 6.2 Reference env.py. Below the `import os` you should have the following code <br>
`import dj_database_url`<br>
`if os.path.isfile("env.py"):`<br>
`import env`

- 6.3 Remove the insecure secret key and replace. ( `os.environ.get('SECRET_KEY')` )
- 6.4 Comment out the old DataBases Section.# DATABASES = {
- 6.5 Add new DATABASES Section. ( `dj_database_url.parse(os.environ.get("DATABASE_URL"))` )
- 6.6 In the terminal save all files and make migrations ( `python3 manage.py migrate` )

#### 7. Get our static and media files stored on Cloudinary
- 7.1 Head to [Cloudinary](https://www.cloudinary.com/) and sign in.
- 7.2 Copy your CLOUDINARY_URL e.g API Environment Variable from the cloudinary dashboard
- 7.3 In the `env.py` file add Cloudinary URL
- `os.environ["CLOUDINARY_URL"] = "cloudinary://..."`
- 7.4 Head to [Heroku](https://www.heroku.com)
- 7.5 Add a config var called `CLOUDINARY_URL` for the value it should be the cloudinary URL `cloudinary://...`
- 7.6 Add another config var called `DISABLE_COLLECTSTATIC` for the value it should be `1` **This is for temporary. It will be removed before deployment**
- 7.7 In `settings.py` file 
- 7.8 Add the cloudinary libaries to `INSTALLED_APPS = [` **Note the order is important**

  `INSTALLED_APPS = [`<br>
    `…,`<br>
    `'cloudinary_storage',`<br>
    `'django.contrib.staticfiles',`<br>
    `'cloudinary',`<br>
   ` …,`<br>
`]`
- 7.9 Tell Django to use Cloudinary to store media and static files place under the static files<br>
`STATIC_URL = '/static/'`<br>
`STATICFILES_STORAGE = 'cloudinary_storage.storage.StaticHashedCloudinaryStorage'`<br>
`STATICFILES_DIRS = [os.path.join(BASE_DIR, 'static'), ]`<br>
`STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')`<br>
`MEDIA_URL = '/media/'`<br>
`DEFAULT_FILE_STORAGE = 'cloudinary_storage.storage.MediaCloudinaryStorage'`<br>
- 7.10 Link file to the templates directory in Heroku place under the `BASE_DIR` line<br>
`TEMPLATES_DIR = os.path.join(BASE_DIR, 'templates')`
- 7.11 Change the templates directory to `TEMPLATES_DIR` Place within the TEMPLATES array<br>
`TEMPLATES = [`<br>
`{`<br>
`…,`<br>
`'DIRS': [TEMPLATES_DIR],`<br>
`…,`<br>
`],`<br>
`},`<br>
`},`<br>
`]`<br>
- 7.12 Add Heroku Hostname to `ALLOWED_HOSTS` (e.g. codestar2021)
- 7.13 For example `ALLOWED_HOSTS = ["PROJ_NAME.herokuapp.com", "YOUR_HOSTNAME"]`
- 7.14 Create 3 new folders on top level directory `media`, `static` and `templates`
- 7.15 Create a `Procfile` on the top level directory
- 7.16 In the `Procfile` add this line of code `web: gunicorn PROJ_NAME.wsgi`
- 7.17 Add, Commit and Push your changes.

#### 8. Deploying to Heroku.
- 8.1 Head back over to [heroku](https://www.heroku.com/) and click on your **app** and then go to the **Settings tab**
- 8.2 On the **settings page** scroll down to the **config vars** section and check you have all the correct config vars setup
- 8.3 `DATABASE_URL` which you will set equal to the **ElephantSQL database URL**
- 8.4 `SECRET_KEY` is set to your secret key value
- 8.5 `CLOUDINARY_URL` this will be set to your cloudinary url
- 8.6 `DISABLE_COLLECTSTATIC` for the value it should be `1` **This is for temporary. You should remove before final deployment**
- 8.7 Finally we need to add one more config var which is `PORT` which the value will be set to `8000`.
- 8.8 Then scroll to the top and go to the **deploy tab** and go down to the **Deployment method** section and select **Github** and then sign into your account.
- 8.9 Below that in the **search for a repository to connect to** search box enter the name of your repository that you created on **github** and click **connect**
- 8.10 Once it has connected scroll down to the **Manual Deploy** and click **Deploy branch** when it has deployed you will see a **view app** button below and this will bring you to your newly deployed app.
- 8.11 Please note that when deploying manually you will have to deploy after each change you make to your repository.

## Final Deployemt
- In `settings.py` set `DEBUG = False`
---

## Credits
---

## Acknowledgements:
---

[Back to the top](#tasty-tales)
